(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59c0c011"],{"33e6":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account-settings-info-view"},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{md:24,lg:16}},[a("a-form-model",{ref:"form",attrs:{layout:"vertical",rules:t.rules,model:t.user}},[a("a-form-model-item",{attrs:{label:"手机",prop:"mobile"}},[a("a-input",{attrs:{placeholder:"请填写手机号"},model:{value:t.user.mobile,callback:function(e){t.$set(t.user,"mobile",e)},expression:"user.mobile"}})],1),a("a-form-model-item",{attrs:{label:"电子邮箱",prop:"mail"}},[a("a-input",{attrs:{placeholder:"请填写电子邮箱"},model:{value:t.user.mail,callback:function(e){t.$set(t.user,"mail",e)},expression:"user.mail"}})],1),a("a-form-model-item",[a("a-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.submit}},[t._v("保存")])],1)],1)],1),a("a-col",{staticStyle:{"padding-left":"100px"},style:{minHeight:"180px"},attrs:{md:24,lg:8}},[a("a-upload",{attrs:{name:"file","max-count":1,"before-upload":t.beforeUpload,showUploadList:!1},on:{change:t.uploadImg}},[a("div",{staticClass:"ant-upload-preview"},[a("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),a("div",{staticClass:"mask"},[a("a-icon",{attrs:{type:"plus"}})],1),a("img",{attrs:{src:t.user.avatar}})],1)])],1)],1)],1)},n=[],u=a("5530"),i=(a("d3b7"),a("d5bd")),s=a("5880"),o=a("d2eb"),d={name:"BaseSettings",components:{},data:function(){return{submitLoading:!1,user:{id:"",mail:"",mobile:"",avatar:"",username:"",status:0},preview:{},rules:{mail:[{required:!0,message:"电子邮箱不能为空",trigger:"blur"},{type:"email",message:"请正确填写邮箱地址",trigger:["blur","change"]}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请正确填写手机号",trigger:"blur"}]}}},computed:Object(u["a"])({},Object(s["mapGetters"])(["id"])),mounted:function(){this.getInfo()},methods:{uploadImg:function(t){var e=this,a=new FormData;a.append("file",t.file),Object(i["k"])(a).then((function(t){e.user.avatar=t.data.url}))},beforeUpload:function(){return!1},getInfo:function(){var t=this;Object(o["b"])().then((function(e){t.user.mail=e.data.mail,t.user.id=e.data.id,t.user.mobile=e.data.mobile,t.user.avatar=e.data.avatar,t.user.username=e.data.username}))},submit:function(){var t=this;this.$refs.form.validate((function(e){if(e){t.submitLoading=!0;var a={userProfileCO:t.user};Object(i["i"])(a).then((function(){t.$notification.success({message:"提示",description:"修改成功,请退出登录后生效"})})).finally((function(){t.submitLoading=!1}))}}))}}},c=d,l=(a("f53c"),a("2877")),m=Object(l["a"])(c,r,n,!1,null,"64206aa8",null);e["default"]=m.exports},"5a2b":function(t,e,a){},d5bd:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return i})),a.d(e,"h",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return d})),a.d(e,"j",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"k",(function(){return m})),a.d(e,"e",(function(){return f})),a.d(e,"g",(function(){return b}));var r=a("b775");function n(t){return Object(r["b"])({url:"/admin/v1/users/list",method:"post",data:t})}function u(t){return Object(r["b"])({url:"/admin/v1/users/"+t,method:"get"})}function i(t,e){return Object(r["b"])({url:"/admin/v1/users",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8","request-id":e}})}function s(t){return Object(r["b"])({url:"/admin/v1/users",method:"put",data:t})}function o(t){return Object(r["b"])({url:"/admin/v1/users/"+t,method:"delete"})}function d(t){return Object(r["b"])({url:"/admin/v1/users/reset-password",method:"put",data:t})}function c(t){return Object(r["b"])({url:"/admin/v1/users/status",data:t,method:"put"})}function l(t){return Object(r["b"])({url:"/admin/v1/users/profile",method:"put",data:t})}function m(t){return Object(r["b"])({url:"/admin/v1/oss/upload",method:"post",data:t})}function f(){return Object(r["b"])({url:"/admin/v1/users/option-list",method:"get"})}function b(t){return Object(r["b"])({url:"/admin/v1/users/password",data:t,method:"put"})}},f53c:function(t,e,a){"use strict";a("5a2b")}}]);