---
title: Docker安装
date: 2026-02-09 10:32:46
permalink: /pages/511812/
---

你好呀，我的老朋友！我是老寇，欢迎来到老寇IoT云平台！

### 安装 Docker【Ubuntu 24.04】

<font style="color:red;">注意：需要检查是否安装SSH，否则无法连接主机</font>

```shell
# 安装
sudo apt-get install openssh-server
# 查看状态
sudo systemctl status ssh
# 启动
sudo systemctl start ssh
# 开机启动
sudo systemctl enable ssh
```

##### 1.更新包索引

```shell
sudo apt-get update
```

##### 2.安装必要的系统工具

```shell
sudo apt-get install apt-transport-https ca-certificates curl software-properties-common
```

##### 3.添加 Docker 官方 GPG 密钥【没添加好就多试几次】

```shell
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

##### 4.添加 Docker 仓库

```shell
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
```

##### 5.再次更新包索引

```shell
sudo apt-get update
```

##### 6.安装 Docker CE

```shell
sudo apt-get install docker-ce
```


##### 7.启动 Docker 服务

```shell
## 启动
sudo systemctl start docker
# 查看状态
sudo systemctl status docker
# 开机启动
sudo systemctl enable docker
```

##### 8.安装Docker Compose

```shell
sudo wget https://github.com/docker/compose/releases/download/v2.40.3/docker-compose-linux-x86_64
mv docker-compose-linux-x86_64 /usr/local/docker-compose
sudo chmod +x /usr/local/docker-compose
# 全局设置
sudo ln -s /usr/local/docker-compose /usr/bin/docker-compose
# 查看版本
docker-compose --version
```

##### 9.远程访问

```shell
sudo apt-get install vim
sudo vim /usr/lib/systemd/system/docker.service
# 找到 ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock 这行，添加 -H tcp://0.0.0.0:2375
ExecStart=/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H fd:// --containerd=/run/containerd/containerd.sock
```

```shell
sudo systemctl daemon-reload
sudo systemctl restart docker
```

我是老寇，我们下次再见啦！
