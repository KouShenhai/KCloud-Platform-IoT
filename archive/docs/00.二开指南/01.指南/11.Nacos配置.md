---
title: Nacosé…ç½®
date: 2026-02-09 21:16:48
permalink: /pages/bb6aae/
---

ä½ å¥½å‘€ï¼Œæˆ‘çš„è€æœ‹å‹ï¼æˆ‘æ˜¯è€å¯‡ï¼Œæ¬¢è¿æ¥åˆ°è€å¯‡IoTäº‘å¹³å°ï¼

## ğŸ“Œ åŸºç¡€é…ç½®

| é…ç½®é¡¹                              | ç¤ºä¾‹å€¼                          | è¯´æ˜                               |
|----------------------------------|------------------------------|----------------------------------|
| `jasypt.encryptor.password`      | `laokou`                     | Jasypt åŠ å¯†å¯†é’¥ï¼Œç”¨äºè§£å¯† `ENC()` æ ¼å¼çš„æ•æ„Ÿæ•°æ® |
| `spring.application.name`        | `${SERVICE_ID:laokou-nacos}` | åº”ç”¨åç§°ï¼Œé»˜è®¤ä¸º `laokou-nacos`          |
| `spring.profiles.active`         | `dev`                        | æ¿€æ´»çš„ç¯å¢ƒé…ç½®æ–‡ä»¶                        |
| `spring.threads.virtual.enabled` | `true`                       | å¼€å¯ Java è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ                   |

---

## ğŸŒ æœåŠ¡å™¨é…ç½®

### Tomcat é…ç½®

| é…ç½®é¡¹                                | ç¤ºä¾‹å€¼     | è¯´æ˜                       |
|------------------------------------|---------|--------------------------|
| `server.compression.enabled`       | `true`  | å¼€å¯ HTTP å“åº”å‹ç¼©             |
| `server.tomcat.threads.max`        | `500`   | å·¥ä½œçº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°              |
| `server.tomcat.threads.min-spare`  | `50`    | å·¥ä½œçº¿ç¨‹æ± çš„æœ€å°å¤‡ç”¨çº¿ç¨‹æ•°            |
| `server.tomcat.max-connections`    | `10000` | Tomcat æœ€å¤§è¿æ¥æ•°             |
| `server.tomcat.accept-count`       | `200`   | å½“æ‰€æœ‰å·¥ä½œçº¿ç¨‹éƒ½åœ¨å¿™æ—¶ï¼Œå…è®¸ç­‰å¾…å¤„ç†çš„æœ€å¤§è¿æ¥æ•° |
| `server.tomcat.uri-encoding`       | `UTF-8` | URI ç¼–ç æ ¼å¼                 |
| `server.tomcat.connection-timeout` | `60s`   | è¿æ¥è¶…æ—¶æ—¶é—´                   |

### å…¶ä»–æœåŠ¡å™¨é…ç½®

| é…ç½®é¡¹                            | ç¤ºä¾‹å€¼        | è¯´æ˜                  |
|--------------------------------|------------|---------------------|
| `server.error.include-message` | `always`   | HTTP å“åº”ä¸­å§‹ç»ˆè¿”å›å…·ä½“çš„é”™è¯¯æ¶ˆæ¯ |
| `server.ssl.enabled`           | `false`    | å…³é—­ SSL è¯ä¹¦           |
| `server.http2.enabled`         | `false`    | å…³é—­ HTTP/2           |
| `server.shutdown`              | `graceful` | ä¼˜é›…åœæœºæ¨¡å¼              |

---

## ğŸ“Š ç›‘æ§é…ç½®

| é…ç½®é¡¹                                         | ç¤ºä¾‹å€¼     | è¯´æ˜                   |
|---------------------------------------------|---------|----------------------|
| `management.elastic.metrics.export.enabled` | `false` | ä¸æš´éœ²æŒ‡æ ‡åˆ° Elasticsearch |
| `management.influx.metrics.export.enabled`  | `false` | ä¸æš´éœ²æŒ‡æ ‡åˆ° InfluxDB      |

---

## ğŸ”§ Nacos æ ¸å¿ƒé…ç½®

### ç«¯å£é…ç½®

| é…ç½®é¡¹                          | ç¤ºä¾‹å€¼                               | è¯´æ˜                      |
|------------------------------|-----------------------------------|-------------------------|
| `nacos.console.port`         | `${NACOS_CONSOLE_PORT:8048}`      | Nacos æœåŠ¡æ§åˆ¶å°ç«¯å£ï¼Œé»˜è®¤ `8048` |
| `nacos.server.main.port`     | `${NACOS_SERVER_PORT:8848}`       | Nacos æœåŠ¡ä¸»ç«¯å£ï¼Œé»˜è®¤ `8848`   |
| `nacos.ai.mcp.registry.port` | `${NACOS_MCP_REGISTRY_PORT:9080}` | MCP æ³¨å†Œç«¯å£ï¼Œé»˜è®¤ `9080`      |

### ä¸Šä¸‹æ–‡è·¯å¾„é…ç½®

| é…ç½®é¡¹                                        | ç¤ºä¾‹å€¼      | è¯´æ˜                       |
|--------------------------------------------|----------|--------------------------|
| `nacos.server.contextPath`                 | `/nacos` | Nacos æœåŠ¡ä¸Šä¸‹æ–‡è·¯å¾„            |
| `nacos.console.contextPath`                | *(ç©º)*    | Nacos æœåŠ¡æ§åˆ¶å°ä¸Šä¸‹æ–‡è·¯å¾„         |
| `nacos.console.remote.server.context-path` | `/nacos` | æ§åˆ¶å°è®¿é—®è¿œç¨‹ Nacos æœåŠ¡ä½¿ç”¨çš„ä¸Šä¸‹æ–‡è·¯å¾„ |

### éƒ¨ç½²æ¨¡å¼

| é…ç½®é¡¹                     | ç¤ºä¾‹å€¼                               | è¯´æ˜               |
|-------------------------|-----------------------------------|------------------|
| `nacos.deployment.type` | `${NACOS_DEPLOYMENT_TYPE:merged}` | éƒ¨ç½²æ¨¡å¼ï¼Œé»˜è®¤ `merged` |

**å¯é€‰å€¼è¯´æ˜ï¼š**
- `server`ï¼šæœåŠ¡æ¨¡å¼
- `console`ï¼šæ§åˆ¶å°æ¨¡å¼
- `serverWithMcp`ï¼šæœåŠ¡æ¨¡å¼ï¼Œå¯ç”¨ MCP åŠŸèƒ½
- `merged`ï¼šåˆå¹¶æ¨¡å¼ï¼ˆconfig + naming æ¨¡å—åˆå¹¶éƒ¨ç½²ï¼Œ**æ¨èæ–¹å¼**ï¼‰

---

## ğŸ” è®¤è¯é…ç½®

| é…ç½®é¡¹                               | ç¤ºä¾‹å€¼     | è¯´æ˜                  |
|-----------------------------------|---------|---------------------|
| `nacos.core.auth.enabled`         | `true`  | å¼€å¯è®¤è¯                |
| `nacos.core.auth.admin.enabled`   | `true`  | å¼€å¯ Nacos ç®¡ç†å‘˜è®¤è¯      |
| `nacos.core.auth.console.enabled` | `true`  | æ§åˆ¶å°æ˜¯å¦å¯ç”¨è®¤è¯           |
| `nacos.core.auth.caching.enabled` | `true`  | å¯ç”¨è®¤è¯ä¿¡æ¯çš„ç¼“å­˜ï¼Œå‡å°‘é‡å¤è®¤è¯çš„å¼€é”€ |
| `nacos.core.auth.system.type`     | `nacos` | æŒ‡å®šç³»ç»Ÿç±»å‹ä¸º Nacos       |

### Token é…ç½®

| é…ç½®é¡¹                                                 | ç¤ºä¾‹å€¼                   | è¯´æ˜                         |
|-----------------------------------------------------|-----------------------|----------------------------|
| `nacos.core.auth.plugin.nacos.token.cache.enable`   | `false`               | ç¦ç”¨ Token ç¼“å­˜ï¼Œæ¯æ¬¡è¯·æ±‚éœ€é‡æ–°éªŒè¯      |
| `nacos.core.auth.plugin.nacos.token.expire.seconds` | `18000`               | Token æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰ï¼Œè¶…æ—¶åéœ€é‡æ–°è·å–      |
| `nacos.core.auth.plugin.nacos.token.secret.key`     | `U2VjcmV0S2V5MDEy...` | ç”Ÿæˆå’ŒéªŒè¯ Token çš„å¯†é’¥ï¼ˆBase64 ç¼–ç ï¼‰ |

### é›†ç¾¤èŠ‚ç‚¹é—´é€šä¿¡è®¤è¯

| é…ç½®é¡¹                                     | ç¤ºä¾‹å€¼              | è¯´æ˜                  |
|-----------------------------------------|------------------|---------------------|
| `nacos.core.auth.server.identity.key`   | `serverIdentity` | æœåŠ¡èŠ‚ç‚¹é—´é€šä¿¡çš„è®¤è¯æ ‡è¯†ï¼ˆKeyï¼‰   |
| `nacos.core.auth.server.identity.value` | `security`       | æœåŠ¡èŠ‚ç‚¹é—´é€šä¿¡çš„è®¤è¯æ ‡è¯†ï¼ˆValueï¼‰ |

### å…è®¤è¯ URL é…ç½®

```properties
nacos.security.ignore.urls=/,/error,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-ui/public/**,/v1/auth/**,/v1/console/health/**,/actuator/**,/v1/console/server/**
```

> é…ç½®æ— éœ€è®¤è¯å³å¯è®¿é—®çš„ URL è·¯å¾„ï¼Œé€šå¸¸ç”¨äºé™æ€èµ„æºæˆ–å¥åº·æ£€æŸ¥ã€‚

---

## ğŸ—‚ï¸ æœåŠ¡å‘ç°é…ç½®

### ç©ºæœåŠ¡è‡ªåŠ¨æ¸…ç†

| é…ç½®é¡¹                                                 | ç¤ºä¾‹å€¼     | è¯´æ˜                |
|-----------------------------------------------------|---------|-------------------|
| `nacos.naming.empty-service.auto-clean`             | `true`  | è‡ªåŠ¨æ¸…ç†æ— å®ä¾‹æ³¨å†Œçš„ç©ºæœåŠ¡     |
| `nacos.naming.empty-service.clean.initial-delay-ms` | `50000` | æœåŠ¡æ¸…ç†ä»»åŠ¡çš„åˆå§‹å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| `nacos.naming.empty-service.clean.period-time-ms`   | `30000` | æœåŠ¡æ¸…ç†ä»»åŠ¡çš„æ‰§è¡Œé—´éš”ï¼ˆæ¯«ç§’ï¼‰   |

### æ¨¡ç³ŠåŒ¹é…è®¢é˜…é™åˆ¶

| é…ç½®é¡¹                                                        | ç¤ºä¾‹å€¼   | è¯´æ˜                       |
|------------------------------------------------------------|-------|--------------------------|
| `nacos.naming.fuzzy.watch.max.pattern.count`               | `20`  | å•ä¸ªå®¢æˆ·ç«¯æœ€å¤šèƒ½è®¢é˜…çš„æ¨¡ç³ŠåŒ¹é…æ¨¡å¼æ•°ï¼ˆæœåŠ¡å‘ç°ï¼‰ |
| `nacos.naming.fuzzy.watch.max.pattern.match.service.count` | `500` | æ¯ä¸ªæ¨¡ç³Šæ¨¡å¼æœ€å¤šèƒ½åŒ¹é…çš„æœåŠ¡æ•°          |
| `nacos.config.fuzzy.watch.max.pattern.count`               | `20`  | å•ä¸ªå®¢æˆ·ç«¯æœ€å¤šèƒ½è®¢é˜…çš„æ¨¡ç³Šæ¨¡å¼æ•°ï¼ˆé…ç½®ç›‘å¬ï¼‰   |
| `nacos.config.fuzzy.watch.max.pattern.match.config.count`  | `500` | æ¯ä¸ªæ¨¡ç³Šæ¨¡å¼æœ€å¤šèƒ½åŒ¹é…çš„é…ç½®é¡¹æ•°         |

---

## ğŸ“ é…ç½®ä¸­å¿ƒç›¸å…³

| é…ç½®é¡¹                              | ç¤ºä¾‹å€¼  | è¯´æ˜             |
|----------------------------------|------|----------------|
| `nacos.config.push.maxRetryTime` | `50` | é…ç½®æ¨é€å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•° |

---

## âš™ï¸ å…¶ä»– Nacos é…ç½®

| é…ç½®é¡¹                                    | ç¤ºä¾‹å€¼                              | è¯´æ˜                                |
|----------------------------------------|----------------------------------|-----------------------------------|
| `nacos.istio.mcp.server.enabled`       | `false`                          | ç¦ç”¨ Istio çš„ MCP æœåŠ¡ï¼ˆè‹¥ä¸ä½¿ç”¨ Istio å¯å…³é—­ï¼‰ |
| `nacos.core.protocol.raft.strict_mode` | `true`                           | é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼ŒRaft æ— æ³•é€‰ä¸¾æ—¶è¿”å› 500           |
| `nacos.k8s.sync.enabled`               | `false`                          | æ˜¯å¦å¯ç”¨ Kubernetes åŒæ­¥                |
| `nacos.log.path`                       | `${NACOS_LOG_PATH:./logs/nacos}` | Nacos æ—¥å¿—æ–‡ä»¶è·¯å¾„                      |

---

## ğŸ’¾ æ•°æ®åº“é…ç½®

### åŸºæœ¬é…ç½®

| é…ç½®é¡¹                        | ç¤ºä¾‹å€¼                               | è¯´æ˜                  |
|----------------------------|-----------------------------------|---------------------|
| `spring.sql.init.platform` | `${NACOS_DS_PLATFORM:postgresql}` | æ•°æ®åº“ç±»å‹ï¼Œé»˜è®¤ PostgreSQL |
| `db.num`                   | `1`                               | æ•°æ®åº“æ•°é‡               |

> âš ï¸ **æ³¨æ„ï¼šæ•°æ®åº“æ•°é‡è¯·æŒ‰ç…§ä½œè€…çš„æ¥ï¼Œè¯·ä¸è¦éšæ„ä¿®æ”¹ï¼**

### æ•°æ®åº“è¿æ¥é…ç½®

```properties
db.url.'0'=jdbc:${NACOS_DS_PLATFORM:postgresql}://${NACOS_DS_HOST:postgresql}:${NACOS_DS_PORT:5432}/${NACOS_DS_DB:kcloud_platform_nacos}?tcpKeepAlive=true&reWriteBatchedInserts=true&ApplicationName=laokou-nacos&useSSL=false&reWriteBatchedInserts=true&stringtype=unspecified
```

| é…ç½®é¡¹               | ç¤ºä¾‹å€¼                             | è¯´æ˜         |
|-------------------|---------------------------------|------------|
| `db.user.'0'`     | `${NACOS_DS_USERNAME:ENC(...)}` | æ•°æ®åº“ç”¨æˆ·åï¼ˆåŠ å¯†ï¼‰ |
| `db.password.'0'` | `${NACOS_DS_PASSWORD:ENC(...)}` | æ•°æ®åº“å¯†ç ï¼ˆåŠ å¯†ï¼‰  |

### HikariCP è¿æ¥æ± é…ç½®

| é…ç½®é¡¹                                 | ç¤ºä¾‹å€¼                                        | è¯´æ˜              |
|-------------------------------------|--------------------------------------------|-----------------|
| `db.pool.config.minimum-idle`       | `5`                                        | æœ€å°ç©ºé—²è¿æ¥æ•°         |
| `db.pool.config.idle-timeout`       | `600000`                                   | ç©ºé—²è¿æ¥çš„æœ€å¤§å­˜æ´»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| `db.pool.config.connection-timeout` | `30000`                                    | è·å–è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰    |
| `db.pool.config.validation-timeout` | `10000`                                    | éªŒè¯è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰      |
| `db.pool.config.maximum-pool-size`  | `50`                                       | æœ€å¤§è¿æ¥æ•°           |
| `db.pool.config.driver-class-name`  | `${NACOS_DS_DRIVER:org.postgresql.Driver}` | æ•°æ®åº“é©±åŠ¨ç±»å         |

---

## ğŸ“‹ æ—¥å¿—é…ç½®

| é…ç½®é¡¹              | ç¤ºä¾‹å€¼                            | è¯´æ˜         |
|------------------|--------------------------------|------------|
| `logging.config` | `classpath:logback-spring.xml` | æŒ‡å®šæ—¥å¿—é…ç½®æ–‡ä»¶è·¯å¾„ |

---

## ğŸ”„ è‡ªåŠ¨è£…é…æ’é™¤

```properties
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
```

> ç¦ç”¨ Spring Boot çš„æ•°æ®åº“è‡ªåŠ¨è£…é…ï¼Œå› ä¸º Nacos ä½¿ç”¨è‡ªå·±çš„æ•°æ®æºç®¡ç†ã€‚

---

## ğŸŒ ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å                       | é»˜è®¤å€¼                     | è¯´æ˜       |
|---------------------------|-------------------------|----------|
| `SERVICE_ID`              | `laokou-nacos`          | æœåŠ¡ ID    |
| `PROFILE-ACTIVE`          | -                       | æ¿€æ´»çš„ç¯å¢ƒé…ç½®  |
| `NACOS_CONSOLE_PORT`      | `8048`                  | æ§åˆ¶å°ç«¯å£    |
| `NACOS_SERVER_PORT`       | `8848`                  | æœåŠ¡ç«¯å£     |
| `NACOS_MCP_REGISTRY_PORT` | `9080`                  | MCP æ³¨å†Œç«¯å£ |
| `NACOS_DEPLOYMENT_TYPE`   | `merged`                | éƒ¨ç½²æ¨¡å¼     |
| `NACOS_LOG_PATH`          | `./logs/nacos`          | æ—¥å¿—è·¯å¾„     |
| `NACOS_DS_PLATFORM`       | `postgresql`            | æ•°æ®åº“å¹³å°    |
| `NACOS_DS_HOST`           | `postgresql`            | æ•°æ®åº“ä¸»æœº    |
| `NACOS_DS_PORT`           | `5432`                  | æ•°æ®åº“ç«¯å£    |
| `NACOS_DS_DB`             | `kcloud_platform_nacos` | æ•°æ®åº“åç§°    |
| `NACOS_DS_USERNAME`       | *(åŠ å¯†å€¼)*                 | æ•°æ®åº“ç”¨æˆ·å   |
| `NACOS_DS_PASSWORD`       | *(åŠ å¯†å€¼)*                 | æ•°æ®åº“å¯†ç     |
| `NACOS_DS_DRIVER`         | `org.postgresql.Driver` | æ•°æ®åº“é©±åŠ¨    |

---

## ğŸ“„ å®Œæ•´é…ç½®ç¤ºä¾‹

```properties
# ==================== åŸºç¡€é…ç½® ====================
# å¯†é’¥
jasypt.encryptor.password=laokou
# åº”ç”¨åç§°
spring.application.name=${SERVICE_ID:laokou-nacos}
# ç¯å¢ƒ
spring.profiles.active=dev
# å¼€å¯è™šæ‹Ÿçº¿ç¨‹
spring.threads.virtual.enabled=true

# ==================== æœåŠ¡å™¨é…ç½® ====================
# å¼€å¯è¯·æ±‚å‹ç¼©
server.compression.enabled=true
# å·¥ä½œçº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°
server.tomcat.threads.max=500
# å·¥ä½œçº¿ç¨‹æ± çš„æœ€å°å¤‡ç”¨çº¿ç¨‹æ•°
server.tomcat.threads.min-spare=50
# æœ€å¤§è¿æ¥æ•°
server.tomcat.max-connections=10000
# å½“æ‰€æœ‰å·¥ä½œçº¿ç¨‹éƒ½åœ¨å¿™æ—¶ï¼Œå…è®¸ç­‰å¾…å¤„ç†çš„æœ€å¤§è¿æ¥æ•°
server.tomcat.accept-count=200
# uriç¼–ç 
server.tomcat.uri-encoding=UTF-8
# è¿æ¥è¶…æ—¶æ—¶é—´
server.tomcat.connection-timeout=60s
# åº”ç”¨ç¨‹åºåœ¨å‘ç”Ÿé”™è¯¯æ—¶ï¼Œhttp å“åº”ä¸­å§‹ç»ˆè¿”å›å…·ä½“çš„é”™è¯¯æ¶ˆæ¯
server.error.include-message=always
# å…³é—­è¯ä¹¦
server.ssl.enabled=false
# å…³é—­http2
server.http2.enabled=false
# ä¼˜é›…åœæœº
server.shutdown=graceful

# ==================== ç›‘æ§é…ç½® ====================
# ä¸æš´éœ²æŒ‡æ ‡åˆ°elastic
management.elastic.metrics.export.enabled=false
# ä¸æš´éœ²æŒ‡æ ‡åˆ°influx
management.influx.metrics.export.enabled=false

# ==================== Nacos æ ¸å¿ƒé…ç½® ====================
# nacosæœåŠ¡æ§åˆ¶å°ç«¯å£
nacos.console.port=${NACOS_CONSOLE_PORT:8048}
# nacosæœåŠ¡ä¸»ç«¯å£
nacos.server.main.port=${NACOS_SERVER_PORT:8848}
# mcpæ³¨å†Œç«¯å£
nacos.ai.mcp.registry.port=${NACOS_MCP_REGISTRY_PORT:9080}
# nacosæœåŠ¡ä¸Šä¸‹æ–‡è·¯å¾„
nacos.server.contextPath=/nacos
# nacosæœåŠ¡æ§åˆ¶å°ä¸Šä¸‹æ–‡è·¯å¾„
nacos.console.contextPath=
# æ§åˆ¶å°è®¿é—®è¿œç¨‹nacosæœåŠ¡ï¼Œä½¿ç”¨çš„ä¸Šä¸‹æ–‡è·¯å¾„
nacos.console.remote.server.context-path=/nacos
# éƒ¨ç½²æ¨¡å¼
nacos.deployment.type=${NACOS_DEPLOYMENT_TYPE:merged}

# ==================== è®¤è¯é…ç½® ====================
# å¼€å¯è®¤è¯
nacos.core.auth.enabled=true
# å¼€å¯nacosç®¡ç†å‘˜è®¤è¯
nacos.core.auth.admin.enabled=true
# æ§åˆ¶å°æ˜¯å¦å¯ç”¨è®¤è¯
nacos.core.auth.console.enabled=true
# å¯ç”¨è®¤è¯ä¿¡æ¯çš„ç¼“å­˜ï¼Œå‡å°‘é‡å¤è®¤è¯çš„å¼€é”€
nacos.core.auth.caching.enabled=true
# æŒ‡å®šç³»ç»Ÿç±»å‹ä¸º nacos
nacos.core.auth.system.type=nacos
# ç¦ç”¨ token ç¼“å­˜ï¼Œæ¯æ¬¡è¯·æ±‚éœ€é‡æ–°éªŒè¯ token
nacos.core.auth.plugin.nacos.token.cache.enable=false
# token çš„æœ‰æ•ˆæœŸï¼Œè¶…æ—¶åéœ€é‡æ–°è·å–
nacos.core.auth.plugin.nacos.token.expire.seconds=18000
# ç”Ÿæˆå’ŒéªŒè¯ token çš„å¯†é’¥ã€base64ç¼–ç ã€‘
nacos.core.auth.plugin.nacos.token.secret.key=U2VjcmV0S2V5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5
# æœåŠ¡èŠ‚ç‚¹é—´é€šä¿¡çš„è®¤è¯æ ‡è¯†ï¼Œç”¨äºé›†ç¾¤å†…éƒ¨èº«ä»½æ ¡éªŒã€keyã€‘
nacos.core.auth.server.identity.key=serverIdentity
# æœåŠ¡èŠ‚ç‚¹é—´é€šä¿¡çš„è®¤è¯æ ‡è¯†ï¼Œç”¨äºé›†ç¾¤å†…éƒ¨èº«ä»½æ ¡éªŒã€valueã€‘
nacos.core.auth.server.identity.value=security
# é…ç½®æ— éœ€è®¤è¯å³å¯è®¿é—®çš„ url è·¯å¾„
nacos.security.ignore.urls=/,/error,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-ui/public/**,/v1/auth/**,/v1/console/health/**,/actuator/**,/v1/console/server/**

# ==================== æœåŠ¡å‘ç°é…ç½® ====================
# é…ç½®æ¨é€å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°
nacos.config.push.maxRetryTime=50
# è‡ªåŠ¨æ¸…ç†æ— å®ä¾‹æ³¨å†Œçš„ç©ºæœåŠ¡
nacos.naming.empty-service.auto-clean=true
# æœåŠ¡æ¸…ç†ä»»åŠ¡çš„åˆå§‹å»¶è¿Ÿæ—¶é—´
nacos.naming.empty-service.clean.initial-delay-ms=50000
# æœåŠ¡æ¸…ç†ä»»åŠ¡çš„æ‰§è¡Œé—´éš”ï¼Œæ¯ 30 ç§’æ£€æŸ¥ä¸€æ¬¡
nacos.naming.empty-service.clean.period-time-ms=30000
# å•ä¸ªå®¢æˆ·ç«¯æœ€å¤šèƒ½è®¢é˜…20ä¸ªæ¨¡ç³ŠåŒ¹é…æ¨¡å¼ï¼ˆç”¨äºæœåŠ¡å‘ç°ï¼‰
nacos.naming.fuzzy.watch.max.pattern.count=20
# æ¯ä¸ªæ¨¡ç³Šæ¨¡å¼æœ€å¤šèƒ½åŒ¹é…500ä¸ªæœåŠ¡
nacos.naming.fuzzy.watch.max.pattern.match.service.count=500
# å•ä¸ªå®¢æˆ·ç«¯æœ€å¤šèƒ½è®¢é˜…20ä¸ªæ¨¡ç³Šæ¨¡å¼ï¼ˆç”¨äºé…ç½®ç›‘å¬ï¼‰
nacos.config.fuzzy.watch.max.pattern.count=20
# æ¯ä¸ªæ¨¡ç³Šæ¨¡å¼æœ€å¤šèƒ½åŒ¹é…500ä¸ªé…ç½®é¡¹
nacos.config.fuzzy.watch.max.pattern.match.config.count=500

# ==================== å…¶ä»– Nacos é…ç½® ====================
# ç¦ç”¨ istio çš„ mcp æœåŠ¡
nacos.istio.mcp.server.enabled=false
# é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼
nacos.core.protocol.raft.strict_mode=true
# æ˜¯å¦å¯ç”¨kubernetesåŒæ­¥
nacos.k8s.sync.enabled=false
# nacosæ—¥å¿—æ–‡ä»¶è·¯å¾„
nacos.log.path=${NACOS_LOG_PATH:./logs/nacos}

# ==================== æ•°æ®åº“é…ç½® ====================
# ç¦ç”¨SpringBootçš„æ•°æ®åº“è‡ªåŠ¨è£…é…
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
# æŒ‡å®šæ•°æ®åº“ç±»å‹
spring.sql.init.platform=${NACOS_DS_PLATFORM:postgresql}
# æ•°æ®åº“æ•°é‡
db.num=1
# æ•°æ®åº“è¿æ¥åœ°å€
db.url.'0'=jdbc:${NACOS_DS_PLATFORM:postgresql}://${NACOS_DS_HOST:postgresql}:${NACOS_DS_PORT:5432}/${NACOS_DS_DB:kcloud_platform_nacos}?tcpKeepAlive=true&reWriteBatchedInserts=true&ApplicationName=laokou-nacos&useSSL=false&reWriteBatchedInserts=true&stringtype=unspecified
# æ•°æ®åº“ç”¨æˆ·å
db.user.'0'=${NACOS_DS_USERNAME:ENC(l126CTjtLG8OkXRNs5aofcN96EQpbQmQorTqpnWFMvcysQLjNBEuX+9f6hLwdoEk)}
# æ•°æ®åº“å¯†ç 
db.password.'0'=${NACOS_DS_PASSWORD:ENC(BhsqlMbKjWVxPseo9OX8osLuL2Y4rWfGTyBRXaZTsAdzZ1Z4rBewBmoXjf2Hnu4o)}
# æœ€å°ç©ºé—²è¿æ¥æ•°
db.pool.config.minimum-idle=5
# ç©ºé—²è¿æ¥çš„æœ€å¤§å­˜æ´»æ—¶é—´
db.pool.config.idle-timeout=600000
# è¿æ¥æ—¶é—´
db.pool.config.connection-timeout=30000
# è¶…æ—¶æ—¶é—´
db.pool.config.validation-timeout=10000
# æœ€å¤§è¿æ¥æ•°
db.pool.config.maximum-pool-size=50
# æ•°æ®åº“é©±åŠ¨
db.pool.config.driver-class-name=${NACOS_DS_DRIVER:org.postgresql.Driver}

# ==================== æ—¥å¿—é…ç½® ====================
# æŒ‡å®šæ—¥å¿—é…ç½®æ–‡ä»¶è·¯å¾„
logging.config=classpath:logback-spring.xml
```

æˆ‘æ˜¯è€å¯‡ï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§å•¦ï¼
