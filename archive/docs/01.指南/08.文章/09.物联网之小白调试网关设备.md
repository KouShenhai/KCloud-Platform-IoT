---
title: 物联网之小白调试网关设备
date: 2025-08-13 23:46:12
permalink: /pages/7a9112/
---

你好呀，我的老朋友！我是老寇，欢迎来到老寇云平台！

跟我一起学习调试网关设备

相信搞过物联网的朋友，对网关设备非常熟悉，本人以小白的视角，手把手教你调试网关设备！

工作中使用的是`Ubuntu`操作系统，因此，本文也是基于`Ubuntu`的设备！刚拿到的新网关，我们怎么在`Window`系统联网调试？

### 步骤

#### 1.接通电源

<img src="/img/物联网之小白调试网关设备/1.webp">

找到`电源插口`，`插入电源线`，然后`接通电源`即可！

#### 2.接入网线

<img src="/img/物联网之小白调试网关设备/2.webp">

不是所有的设备都有`两个网口`，有些设备只有`一个网口`，`LAN1`和`LAN2`对应网络配置的`eth0`和`eth1`，这个有专门的命名，叫做`以太网`

网线一头插入`LAN1`，另一头插入自己调试用的`电脑网口`，笔记本没有网口，请使用`网口转接头`

#### 3.修改电脑IP配置

按下`Win + R`组合键打开运行窗口，输入`control`后回车，启动控制面板！点击`网络和 Internet`，找到`网络连接`，修改`以太网2`网络配置，点击`Intenet协议版本 4(TCP/IPv4)`,网关设备IP地址为 `192.168.0.88`，`因为不在同一个网段，所以，需要我们手动设置IP`

<img src="/img/物联网之小白调试网关设备/3.webp"><br/>

<img src="/img/物联网之小白调试网关设备/4.webp"><br/>

<img src="/img/物联网之小白调试网关设备/5.webp">


#### 4.ssh连接

使用 `finalshell`或`xshell`连接即可

#### 5.手动配置设备IP静态IP

`Ubuntu`的网络配置一般在 `/etc/netplan` 目录下，我们手动配置IP为 `192.168.1.33`，这样和我们的电脑IP处于`同一个网段`，方便直接调试！

```shell
vi /etc/netplan/01-network-manager-all.yaml
```

```yaml
network:
    renderer: NetworkManager
    ethernets:
        eth0:
            dhcp4: false
            addresses:
                - 192.168.1.33/24
		    # gateway4已被弃用，高版本可能不生效
			# gateway4: 192.168.1.1
			routes:
				- to: 0.0.0.0/0
				  via: 192.168.1.1
            nameservers:
                addresses:
                    - 8.8.8.8
                    - 114.114.114.114
        eth1:
            dhcp4: false
            addresses:
                - 100.100.1.15/24
			# gateway4已被弃用，高版本可能不生效
			# gateway4: 100.100.1.1
			routes:
				- to: 0.0.0.0/0
				  via: 100.100.1.1
            nameservers:
                addresses:
                    - 223.5.5.5
                    - 114.114.114.114
```

```shell
# 应用配置
sudo netplan apply
# 重启网络
sudo systemctl restart networking
# 查看网络是否生效
ifconfig
```

DNS无法解析配置

```shell
# 修改配置
vi /etc/resolv.conf

nameserver 8.8.8.8
nameserver 114.114.114.114

vi /ect/hosts

127.0.0.1 localhost
127.0.0.1 主机名
```


#### 6.网络交换机

拔掉自己电脑的网络，将网线插入`交换机`，我们就可以通过ssh连接\~

### 遇到的坑

#### 网关设备磁盘不够

刚买的网关装了`docker`，重启几次 `docker`，导致`磁盘满了`，无法`上传文件`

```shell
# 查看磁盘使用情况，是否真的满了，还是因为网络问题，需要我们逐步排除
df -lh
# 全路径搜索目录，找到磁盘占用最高的目录，一个一个找，总会找到磁盘占用最高的目录，这种情况，一般是系统日志占用特别多的磁盘内存 -> /var/log/syslog
sudo du -hsx /* sort -rh head -10
# 清除日志，这个命令不要轻易执行，很危险！
sudo rm -r /var/log/syslog
```

#### 网络设备设置自动获取IP，无法连接设备

这种直接在`网络管理页面`上面查看所有设备的IP，找到设备的`动态IP`即可！

我是老寇，我们下次再见啦！
