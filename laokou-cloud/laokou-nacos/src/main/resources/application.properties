#   /*
#    * Copyright (c) 2022-2026 KCloud-Platform-IoT Author or Authors. All Rights Reserved.
#    *
#    * Licensed under the Apache License, Version 2.0 (the "License");
#    * you may not use this file except in compliance with the License.
#    * You may obtain a copy of the License at
#    *
#    *   http://www.apache.org/licenses/LICENSE-2.0
#    *
#    * Unless required by applicable law or agreed to in writing, software
#    * distributed under the License is distributed on an "AS IS" BASIS,
#    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    * See the License for the specific language governing permissions and
#    * limitations under the License.
#    *
#    */
# \u5BC6\u94A5
jasypt.encryptor.password=${SECRET_KEY:laokou}
# \u5F00\u542F\u8BF7\u6C42\u538B\u7F29
server.compression.enabled=true
# \u5DE5\u4F5C\u7EBF\u7A0B\u6C60\u7684\u6700\u5927\u7EBF\u7A0B\u6570
server.tomcat.threads.max=500
# \u5DE5\u4F5C\u7EBF\u7A0B\u6C60\u7684\u6700\u5C0F\u5907\u7528\u7EBF\u7A0B\u6570
server.tomcat.threads.min-spare=50
# \u6700\u5927\u8FDE\u63A5\u6570
server.tomcat.max-connections=10000
# \u5F53\u6240\u6709\u5DE5\u4F5C\u7EBF\u7A0B\u90FD\u5728\u5FD9\u65F6\uFF0C\u5141\u8BB8\u7B49\u5F85\u5904\u7406\u7684\u6700\u5927\u8FDE\u63A5\u6570
server.tomcat.accept-count=200
# uri\u7F16\u7801
server.tomcat.uri-encoding=UTF-8
# \u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4
server.tomcat.connection-timeout=60s
# \u5E94\u7528\u7A0B\u5E8F\u5728\u53D1\u751F\u9519\u8BEF\u65F6\uFF0Chttp \u54CD\u5E94\u4E2D\u59CB\u7EC8\u8FD4\u56DE\u5177\u4F53\u7684\u9519\u8BEF\u6D88\u606F
server.error.include-message=always
# \u5173\u95ED\u8BC1\u4E66
server.ssl.enabled=false
# \u5173\u95EDhttp2
server.http2.enabled=false
# \u4F18\u96C5\u505C\u673A
server.shutdown=graceful
# \u5E94\u7528\u540D\u79F0
spring.application.name=${SERVICE_ID:laokou-nacos}
# \u73AF\u5883
spring.profiles.active=@PROFILE-ACTIVE@
# \u5F00\u542F\u865A\u62DF\u7EBF\u7A0B
spring.threads.virtual.enabled=true
# \u4E0D\u66B4\u9732\u6307\u6807\u5230elastic
management.elastic.metrics.export.enabled=false
# \u4E0D\u66B4\u9732\u6307\u6807\u5230influx
management.influx.metrics.export.enabled=false
# \u914D\u7F6E\u63A8\u9001\u5931\u8D25\u65F6\u7684\u6700\u5927\u91CD\u8BD5\u6B21\u6570
nacos.config.push.maxRetryTime=50
# \u542F\u7528\u8BA4\u8BC1\u4FE1\u606F\u7684\u7F13\u5B58\uFF0C\u51CF\u5C11\u91CD\u590D\u8BA4\u8BC1\u7684\u5F00\u9500
nacos.core.auth.caching.enabled=true
# \u5F00\u542F\u8BA4\u8BC1
nacos.core.auth.enabled=true
# \u7981\u7528 token \u7F13\u5B58\uFF0C\u6BCF\u6B21\u8BF7\u6C42\u9700\u91CD\u65B0\u9A8C\u8BC1 token
nacos.core.auth.plugin.nacos.token.cache.enable=false
#  token \u7684\u6709\u6548\u671F\uFF0C\u8D85\u65F6\u540E\u9700\u91CD\u65B0\u83B7\u53D6
nacos.core.auth.plugin.nacos.token.expire.seconds=18000
# \u751F\u6210\u548C\u9A8C\u8BC1 token \u7684\u5BC6\u94A5\u3010base64\u7F16\u7801\u3011
nacos.core.auth.plugin.nacos.token.secret.key=U2VjcmV0S2V5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5
# \u670D\u52A1\u8282\u70B9\u95F4\u901A\u4FE1\u7684\u8BA4\u8BC1\u6807\u8BC6\uFF0C\u7528\u4E8E\u96C6\u7FA4\u5185\u90E8\u8EAB\u4EFD\u6821\u9A8C\u3010key\u3011
nacos.core.auth.server.identity.key=serverIdentity
# \u670D\u52A1\u8282\u70B9\u95F4\u901A\u4FE1\u7684\u8BA4\u8BC1\u6807\u8BC6\uFF0C\u7528\u4E8E\u96C6\u7FA4\u5185\u90E8\u8EAB\u4EFD\u6821\u9A8C\u3010value\u3011
nacos.core.auth.server.identity.value=security
# \u6307\u5B9A\u7CFB\u7EDF\u7C7B\u578B\u4E3A nacos
nacos.core.auth.system.type=nacos
# \u7981\u7528 istio \u7684 mesh configuration protocol (mcp) \u670D\u52A1 =>  \u82E5\u4E0D\u4F7F\u7528 istio \u670D\u52A1\u7F51\u683C\uFF0C\u53EF\u5173\u95ED\u6B64\u529F\u80FD
nacos.istio.mcp.server.enabled=false
# \u81EA\u52A8\u6E05\u7406\u65E0\u5B9E\u4F8B\u6CE8\u518C\u7684\u7A7A\u670D\u52A1
nacos.naming.empty-service.auto-clean=true
# \u670D\u52A1\u6E05\u7406\u4EFB\u52A1\u7684\u521D\u59CB\u5EF6\u8FDF\u65F6\u95F4
nacos.naming.empty-service.clean.initial-delay-ms=50000
# \u670D\u52A1\u6E05\u7406\u4EFB\u52A1\u7684\u6267\u884C\u95F4\u9694\uFF0C\u6BCF 30 \u79D2\u68C0\u67E5\u4E00\u6B21
nacos.naming.empty-service.clean.period-time-ms=30000
# \u914D\u7F6E\u65E0\u9700\u8BA4\u8BC1\u5373\u53EF\u8BBF\u95EE\u7684 url \u8DEF\u5F84\uFF0C\u901A\u5E38\u7528\u4E8E\u9759\u6001\u8D44\u6E90\u6216\u5065\u5EB7\u68C0\u67E5
nacos.security.ignore.urls=/,/error,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-ui/public/**,/v1/auth/**,/v1/console/health/**,/actuator/**,/v1/console/server/**
# \u7981\u7528SpringBoot\u7684\u6570\u636E\u5E93\u81EA\u52A8\u88C5\u914D
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
# nacos\u670D\u52A1\u63A7\u5236\u53F0\u7AEF\u53E3
nacos.console.port=${NACOS_CONSOLE_PORT:8048}
# nacos\u670D\u52A1\u4E3B\u7AEF\u53E3
nacos.server.main.port=${NACOS_SERVER_PORT:8848}
# mcp\u6CE8\u518C\u7AEF\u53E3
nacos.ai.mcp.registry.port=${NACOS_MCP_REGISTRY_PORT:9080}
# nacos\u670D\u52A1\u4E0A\u4E0B\u6587\u8DEF\u5F84
nacos.server.contextPath=/nacos
# nacos\u670D\u52A1\u63A7\u5236\u53F0\u4E0A\u4E0B\u6587\u8DEF\u5F84
nacos.console.contextPath=
# \u63A7\u5236\u53F0\u8BBF\u95EE\u8FDC\u7A0Bnacos\u670D\u52A1\uFF0C\u4F7F\u7528\u7684\u4E0A\u4E0B\u6587\u8DEF\u5F84
nacos.console.remote.server.context-path=/nacos
# \u5F00\u542Fnacos\u7BA1\u7406\u5458\u8BA4\u8BC1
nacos.core.auth.admin.enabled=true
# \u63A7\u5236\u53F0\u662F\u5426\u542F\u7528\u8BA4\u8BC1
nacos.core.auth.console.enabled=true
# \u91C7\u7528\u4E25\u683C\u6A21\u5F0F\uFF0C\u5F00\u542F\u540E\uFF0C\u5F53raft\u65E0\u6CD5\u9009\u4E3E\u65F6\uFF0C\u5F15\u64CE\u7684readiness\u63A5\u53E3\u5C06\u8FD4\u56DE500
nacos.core.protocol.raft.strict_mode=true
# \u662F\u5426\u542F\u7528kubernetes\u540C\u6B65\uFF0Cfalse\u8868\u793A\u4E0D\u542F\u7528
nacos.k8s.sync.enabled=false
# \u90E8\u7F72\u6A21\u5F0F
# server\uFF1A\u670D\u52A1\u6A21\u5F0F
# console\uFF1A\u63A7\u5236\u53F0\u6A21\u5F0F
# serverWithMcp\uFF1A\u670D\u52A1\u6A21\u5F0F\uFF0C\u542F\u7528mcp\u529F\u80FD
# merged\uFF1A\u5408\u5E76\u6A21\u5F0F\uFF08nacos\u652F\u6301config+naming\u6A21\u5757\u5408\u5E76\u90E8\u7F72\uFF0C\u9ED8\u8BA4\u63A8\u8350\u65B9\u5F0F\uFF09
nacos.deployment.type=${NACOS_DEPLOYMENT_TYPE:merged}
# \u5355\u4E2A\u5BA2\u6237\u7AEF\u6700\u591A\u80FD\u8BA2\u960520\u4E2A\u6A21\u7CCA\u5339\u914D\u6A21\u5F0F\uFF08\u7528\u4E8E\u670D\u52A1\u53D1\u73B0\uFF09
nacos.naming.fuzzy.watch.max.pattern.count=20
# \u6BCF\u4E2A\u6A21\u7CCA\u6A21\u5F0F\u6700\u591A\u80FD\u5339\u914D500\u4E2A\u670D\u52A1
nacos.naming.fuzzy.watch.max.pattern.match.service.count=500
# \u5355\u4E2A\u5BA2\u6237\u7AEF\u6700\u591A\u80FD\u8BA2\u960520\u4E2A\u6A21\u7CCA\u6A21\u5F0F\uFF08\u7528\u4E8E\u914D\u7F6E\u76D1\u542C\uFF09
nacos.config.fuzzy.watch.max.pattern.count=20
# \u6BCF\u4E2A\u6A21\u7CCA\u6A21\u5F0F\u6700\u591A\u80FD\u5339\u914D500\u4E2A\u914D\u7F6E\u9879
nacos.config.fuzzy.watch.max.pattern.match.config.count=500
# nacos\u65E5\u5FD7\u6587\u4EF6\u8DEF\u5F84
nacos.log.path=${NACOS_LOG_PATH:./logs/nacos}
# \u6307\u5B9A\u6570\u636E\u5E93\u7C7B\u578B
spring.sql.init.platform=${NACOS_DS_PLATFORM:postgresql}
# \u6570\u636E\u5E93\u6570\u91CF\uFF0C\u8BF7\u6309\u7167\u4F5C\u8005\u7684\u6765\uFF0C\u8BF7\u4E0D\u8981\u778E\u51E0\u628A\u6539
# \u6570\u636E\u5E93\u6570\u91CF\uFF0C\u8BF7\u6309\u7167\u4F5C\u8005\u7684\u6765\uFF0C\u8BF7\u4E0D\u8981\u778E\u51E0\u628A\u6539
# \u6570\u636E\u5E93\u6570\u91CF\uFF0C\u8BF7\u6309\u7167\u4F5C\u8005\u7684\u6765\uFF0C\u8BF7\u4E0D\u8981\u778E\u51E0\u628A\u6539
db.num=1
# \u6570\u636E\u5E93\u8FDE\u63A5\u5730\u5740
db.url.'0'=jdbc:${NACOS_DS_PLATFORM:postgresql}://${NACOS_DS_HOST:postgresql}:${NACOS_DS_PORT:5432}/${NACOS_DS_DB:kcloud_platform_nacos}?tcpKeepAlive=true&amp;reWriteBatchedInserts=true&amp;ApplicationName=laokou-nacos&amp;useSSL=false&amp;reWriteBatchedInserts=true&amp;stringtype=unspecified
# \u6570\u636E\u5E93\u7528\u6237\u540D
db.user.'0'=${NACOS_DS_USERNAME:ENC(l126CTjtLG8OkXRNs5aofcN96EQpbQmQorTqpnWFMvcysQLjNBEuX+9f6hLwdoEk)}
# \u6570\u636E\u5E93\u5BC6\u7801
db.password.'0'=${NACOS_DS_PASSWORD:ENC(BhsqlMbKjWVxPseo9OX8osLuL2Y4rWfGTyBRXaZTsAdzZ1Z4rBewBmoXjf2Hnu4o)}
# see DataSourcePoolProperties \u4E0E ExternalDataSourceProperties
# see DataSourcePoolProperties
# see HikariConfig
# \u6700\u5C0F\u7A7A\u95F2\u8FDE\u63A5\u6570
db.pool.config.minimum-idle=5
# \u7A7A\u95F2\u8FDE\u63A5\u7684\u6700\u5927\u5B58\u6D3B\u65F6\u95F4
db.pool.config.idle-timeout=600000
# \u8FDE\u63A5\u65F6\u95F4
db.pool.config.connection-timeout=30000
# \u8D85\u65F6\u65F6\u95F4
db.pool.config.validation-timeout=10000
# \u6700\u5927\u8FDE\u63A5\u6570
db.pool.config.maximum-pool-size=50
# \u6570\u636E\u5E93\u9A71\u52A8
db.pool.config.driver-class-name=${NACOS_DS_DRIVER:org.postgresql.Driver}
# \u6307\u5B9A\u65E5\u5FD7\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84
logging.config=classpath:logback-spring.xml
